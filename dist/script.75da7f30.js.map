{"version":3,"sources":["script.js"],"names":["imageContainer","document","querySelector","loader","isInitialLoad","ready","imagesLoaded","totalImages","photosArray","initCount","apiKey","apiURL","updateAPIURLWithNewCount","picCount","imageLoaded","hidden","setAttributes","element","attributes","key","setAttribute","displayPhotos","arr","length","forEach","photo","links","html","urls","regular","description","item","createElement","href","target","img","src","alt","title","addEventListener","appendChild","getPhotos","url","response","fetch","json","error","console","log","window","innerHeight","scrollY","body","offsetHeight"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["/* eslint-disable guard-for-in */\nconst imageContainer = document.querySelector('#image-container');\nconst loader = document.querySelector('#loader');\n\nlet isInitialLoad = true;\nlet ready = false;\nlet imagesLoaded = 0;\nlet totalImages = 0;\nlet photosArray = [];\n\n// Unsplash API\nconst initCount = 5;\nconst apiKey = process.env.UNSPLASH_API_KEY;\nlet apiURL = `https://api.unsplash.com/photos/random/?client_id=${apiKey}&count=${initCount}`;\n\nfunction updateAPIURLWithNewCount(picCount) {\n  apiURL = `https://api.unsplash.com/photos/random/?client_id=${apiKey}&count=${picCount}`;\n}\n\n// Check if all images were loaded\nfunction imageLoaded() {\n  imagesLoaded += 1;\n  if (imagesLoaded === totalImages) {\n    ready = true;\n    loader.hidden = true;\n  }\n}\n\n// Helper Function to Set Attributes on DOM Elements\nfunction setAttributes(element, attributes) {\n  // eslint-disable-next-line no-restricted-syntax\n  for (const key in attributes) {\n    element.setAttribute(key, attributes[key]);\n  }\n}\n\n// Create Elements for Links & Photos, add to DOM\nfunction displayPhotos(arr) {\n  imagesLoaded = 0;\n  totalImages = arr.length;\n\n  arr.forEach((photo) => {\n    const {\n      links: { html },\n      urls: { regular },\n      description,\n    } = photo;\n\n    // Create <a> to link to Unsplash\n    const item = document.createElement('a');\n    // item.setAttribute('href', html);\n    // item.setAttribute('target', '_blank');\n    setAttributes(item, {\n      href: html,\n      target: '_blank',\n    });\n\n    // Create <img> for photo\n    const img = document.createElement('img');\n    // img.setAttribute('src', regular);\n    // img.setAttribute('alt', description);\n    // img.setAttribute('title', description);\n    setAttributes(img, {\n      src: regular,\n      alt: description || 'This pictures has no description!',\n      title: description || 'This pictures has no description!',\n    });\n\n    // Event Listener, check when each is finished loading\n    img.addEventListener('load', imageLoaded);\n\n    // Put <img> inside <a>, then put both inside imageContainer Element\n    item.appendChild(img);\n    imageContainer.appendChild(item);\n  });\n}\n\n// Get photos from Unsplash API\nasync function getPhotos(url) {\n  try {\n    const response = await fetch(url);\n    photosArray = await response.json();\n    displayPhotos(photosArray);\n\n    if (isInitialLoad) {\n      updateAPIURLWithNewCount(30);\n      isInitialLoad = false;\n    }\n  } catch (error) {\n    console.log('Error fething photos:', error);\n  }\n}\n\n// Check to see if scrolling near bottom of page, Load More Photos\nwindow.addEventListener('scroll', () => {\n  if (\n    window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000 &&\n    ready\n  ) {\n    ready = false;\n    getPhotos(apiURL);\n  }\n});\n\n// On Load\ngetPhotos(apiURL);\n"]}