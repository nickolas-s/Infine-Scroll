{"id":"mpVp","dependencies":[{"name":"/Users/nickolasstello/Desktop/Coding/05 Practice Time - 20 JavaScript Web Projects (Andrei Neagoie)/project-02-infinite-scroll/package.json","includedInParent":true,"mtime":1644326103000}],"generated":{"js":"const t=document.querySelector(\"#image-container\"),n=document.querySelector(\"#loader\");let e=!0,o=!1,i=0,c=0,s=[];const r=5,a=\"xTVogu9WC9IZvvei4pqFf2UgCGLaHTZrlI8m3k9uBZ8\";let l=`https://api.unsplash.com/photos/random/?client_id=${a}&count=5`;function d(t){l=`https://api.unsplash.com/photos/random/?client_id=${a}&count=${t}`}function h(){(i+=1)===c&&(o=!0,n.hidden=!0)}function u(t,n){for(const e in n)t.setAttribute(e,n[e])}function p(n){i=0,c=n.length,n.forEach(n=>{const{links:{html:e},urls:{regular:o},description:i}=n,c=document.createElement(\"a\");u(c,{href:e,target:\"_blank\"});const s=document.createElement(\"img\");u(s,{src:o,alt:i||\"This pictures has no description!\",title:i||\"This pictures has no description!\"}),s.addEventListener(\"load\",h),c.appendChild(s),t.appendChild(c)})}async function m(t){try{const o=await fetch(t);p(s=await o.json()),e&&(d(30),e=!1)}catch(n){console.log(\"Error fething photos:\",n)}}window.addEventListener(\"scroll\",()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-1e3&&o&&(o=!1,m(l))}),m(l);"},"sourceMaps":{"js":{"mappings":[{"source":"script.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"script.js","name":"imageContainer","original":{"line":2,"column":6},"generated":{"line":1,"column":6}},{"source":"script.js","name":"document","original":{"line":2,"column":23},"generated":{"line":1,"column":8}},{"source":"script.js","name":"querySelector","original":{"line":2,"column":32},"generated":{"line":1,"column":17}},{"source":"script.js","original":{"line":2,"column":46},"generated":{"line":1,"column":31}},{"source":"script.js","name":"loader","original":{"line":3,"column":6},"generated":{"line":1,"column":51}},{"source":"script.js","name":"document","original":{"line":3,"column":15},"generated":{"line":1,"column":53}},{"source":"script.js","name":"querySelector","original":{"line":3,"column":24},"generated":{"line":1,"column":62}},{"source":"script.js","original":{"line":3,"column":38},"generated":{"line":1,"column":76}},{"source":"script.js","original":{"line":5,"column":0},"generated":{"line":1,"column":87}},{"source":"script.js","name":"isInitialLoad","original":{"line":5,"column":4},"generated":{"line":1,"column":91}},{"source":"script.js","original":{"line":5,"column":20},"generated":{"line":1,"column":94}},{"source":"script.js","name":"ready","original":{"line":6,"column":4},"generated":{"line":1,"column":96}},{"source":"script.js","original":{"line":6,"column":12},"generated":{"line":1,"column":99}},{"source":"script.js","name":"imagesLoaded","original":{"line":7,"column":4},"generated":{"line":1,"column":101}},{"source":"script.js","original":{"line":7,"column":19},"generated":{"line":1,"column":103}},{"source":"script.js","name":"totalImages","original":{"line":8,"column":4},"generated":{"line":1,"column":105}},{"source":"script.js","original":{"line":8,"column":18},"generated":{"line":1,"column":107}},{"source":"script.js","name":"photosArray","original":{"line":9,"column":4},"generated":{"line":1,"column":109}},{"source":"script.js","original":{"line":9,"column":18},"generated":{"line":1,"column":111}},{"source":"script.js","original":{"line":12,"column":0},"generated":{"line":1,"column":114}},{"source":"script.js","name":"initCount","original":{"line":12,"column":6},"generated":{"line":1,"column":120}},{"source":"script.js","original":{"line":12,"column":18},"generated":{"line":1,"column":122}},{"source":"script.js","name":"apiKey","original":{"line":13,"column":6},"generated":{"line":1,"column":124}},{"source":"script.js","original":{"line":13,"column":0},"generated":{"line":1,"column":126}},{"source":"script.js","original":{"line":14,"column":0},"generated":{"line":1,"column":172}},{"source":"script.js","name":"apiURL","original":{"line":14,"column":4},"generated":{"line":1,"column":176}},{"source":"script.js","name":"apiKey","original":{"line":14,"column":66},"generated":{"line":1,"column":231}},{"source":"script.js","original":{"line":16,"column":0},"generated":{"line":1,"column":243}},{"source":"script.js","name":"updateAPIURLWithNewCount","original":{"line":16,"column":9},"generated":{"line":1,"column":252}},{"source":"script.js","name":"picCount","original":{"line":16,"column":34},"generated":{"line":1,"column":254}},{"source":"script.js","name":"apiURL","original":{"line":17,"column":2},"generated":{"line":1,"column":257}},{"source":"script.js","name":"apiKey","original":{"line":17,"column":64},"generated":{"line":1,"column":312}},{"source":"script.js","name":"picCount","original":{"line":17,"column":80},"generated":{"line":1,"column":323}},{"source":"script.js","original":{"line":21,"column":0},"generated":{"line":1,"column":327}},{"source":"script.js","name":"imageLoaded","original":{"line":21,"column":9},"generated":{"line":1,"column":336}},{"source":"script.js","name":"imagesLoaded","original":{"line":22,"column":2},"generated":{"line":1,"column":341}},{"source":"script.js","original":{"line":22,"column":18},"generated":{"line":1,"column":344}},{"source":"script.js","name":"totalImages","original":{"line":23,"column":23},"generated":{"line":1,"column":349}},{"source":"script.js","name":"ready","original":{"line":24,"column":4},"generated":{"line":1,"column":353}},{"source":"script.js","original":{"line":24,"column":12},"generated":{"line":1,"column":356}},{"source":"script.js","name":"loader","original":{"line":25,"column":4},"generated":{"line":1,"column":358}},{"source":"script.js","name":"hidden","original":{"line":25,"column":11},"generated":{"line":1,"column":360}},{"source":"script.js","original":{"line":25,"column":20},"generated":{"line":1,"column":368}},{"source":"script.js","original":{"line":30,"column":0},"generated":{"line":1,"column":371}},{"source":"script.js","name":"setAttributes","original":{"line":30,"column":9},"generated":{"line":1,"column":380}},{"source":"script.js","name":"element","original":{"line":30,"column":23},"generated":{"line":1,"column":382}},{"source":"script.js","name":"attributes","original":{"line":30,"column":32},"generated":{"line":1,"column":384}},{"source":"script.js","original":{"line":32,"column":7},"generated":{"line":1,"column":387}},{"source":"script.js","original":{"line":32,"column":7},"generated":{"line":1,"column":391}},{"source":"script.js","name":"key","original":{"line":32,"column":13},"generated":{"line":1,"column":397}},{"source":"script.js","name":"attributes","original":{"line":32,"column":20},"generated":{"line":1,"column":402}},{"source":"script.js","name":"element","original":{"line":33,"column":4},"generated":{"line":1,"column":404}},{"source":"script.js","name":"setAttribute","original":{"line":33,"column":12},"generated":{"line":1,"column":406}},{"source":"script.js","name":"key","original":{"line":33,"column":25},"generated":{"line":1,"column":419}},{"source":"script.js","name":"attributes","original":{"line":33,"column":30},"generated":{"line":1,"column":421}},{"source":"script.js","name":"key","original":{"line":33,"column":41},"generated":{"line":1,"column":423}},{"source":"script.js","original":{"line":38,"column":0},"generated":{"line":1,"column":427}},{"source":"script.js","name":"displayPhotos","original":{"line":38,"column":9},"generated":{"line":1,"column":436}},{"source":"script.js","name":"arr","original":{"line":38,"column":23},"generated":{"line":1,"column":438}},{"source":"script.js","name":"imagesLoaded","original":{"line":39,"column":2},"generated":{"line":1,"column":441}},{"source":"script.js","original":{"line":39,"column":17},"generated":{"line":1,"column":443}},{"source":"script.js","name":"totalImages","original":{"line":40,"column":2},"generated":{"line":1,"column":445}},{"source":"script.js","name":"arr","original":{"line":40,"column":16},"generated":{"line":1,"column":447}},{"source":"script.js","name":"length","original":{"line":40,"column":20},"generated":{"line":1,"column":449}},{"source":"script.js","name":"arr","original":{"line":42,"column":2},"generated":{"line":1,"column":456}},{"source":"script.js","name":"forEach","original":{"line":42,"column":6},"generated":{"line":1,"column":458}},{"source":"script.js","name":"photo","original":{"line":42,"column":15},"generated":{"line":1,"column":466}},{"source":"script.js","original":{"line":43,"column":10},"generated":{"line":1,"column":470}},{"source":"script.js","name":"links","original":{"line":44,"column":6},"generated":{"line":1,"column":476}},{"source":"script.js","original":{"line":44,"column":13},"generated":{"line":1,"column":483}},{"source":"script.js","name":"html","original":{"line":44,"column":15},"generated":{"line":1,"column":488}},{"source":"script.js","name":"urls","original":{"line":45,"column":6},"generated":{"line":1,"column":491}},{"source":"script.js","original":{"line":45,"column":12},"generated":{"line":1,"column":497}},{"source":"script.js","name":"regular","original":{"line":45,"column":14},"generated":{"line":1,"column":505}},{"source":"script.js","original":{"line":43,"column":10},"generated":{"line":1,"column":508}},{"source":"script.js","name":"description","original":{"line":46,"column":6},"generated":{"line":1,"column":520}},{"source":"script.js","name":"photo","original":{"line":47,"column":8},"generated":{"line":1,"column":523}},{"source":"script.js","name":"item","original":{"line":50,"column":10},"generated":{"line":1,"column":525}},{"source":"script.js","name":"document","original":{"line":50,"column":17},"generated":{"line":1,"column":527}},{"source":"script.js","name":"createElement","original":{"line":50,"column":26},"generated":{"line":1,"column":536}},{"source":"script.js","original":{"line":50,"column":40},"generated":{"line":1,"column":550}},{"source":"script.js","name":"setAttributes","original":{"line":53,"column":4},"generated":{"line":1,"column":555}},{"source":"script.js","name":"item","original":{"line":53,"column":18},"generated":{"line":1,"column":557}},{"source":"script.js","original":{"line":53,"column":24},"generated":{"line":1,"column":559}},{"source":"script.js","name":"href","original":{"line":54,"column":6},"generated":{"line":1,"column":560}},{"source":"script.js","name":"html","original":{"line":54,"column":12},"generated":{"line":1,"column":565}},{"source":"script.js","name":"target","original":{"line":55,"column":6},"generated":{"line":1,"column":567}},{"source":"script.js","original":{"line":55,"column":14},"generated":{"line":1,"column":574}},{"source":"script.js","name":"img","original":{"line":59,"column":10},"generated":{"line":1,"column":585}},{"source":"script.js","name":"img","original":{"line":59,"column":10},"generated":{"line":1,"column":591}},{"source":"script.js","name":"document","original":{"line":59,"column":16},"generated":{"line":1,"column":593}},{"source":"script.js","name":"createElement","original":{"line":59,"column":25},"generated":{"line":1,"column":602}},{"source":"script.js","original":{"line":59,"column":39},"generated":{"line":1,"column":616}},{"source":"script.js","name":"setAttributes","original":{"line":63,"column":4},"generated":{"line":1,"column":623}},{"source":"script.js","name":"img","original":{"line":63,"column":18},"generated":{"line":1,"column":625}},{"source":"script.js","original":{"line":63,"column":23},"generated":{"line":1,"column":627}},{"source":"script.js","name":"src","original":{"line":64,"column":6},"generated":{"line":1,"column":628}},{"source":"script.js","name":"regular","original":{"line":64,"column":11},"generated":{"line":1,"column":632}},{"source":"script.js","name":"alt","original":{"line":65,"column":6},"generated":{"line":1,"column":634}},{"source":"script.js","name":"description","original":{"line":65,"column":11},"generated":{"line":1,"column":638}},{"source":"script.js","original":{"line":65,"column":26},"generated":{"line":1,"column":641}},{"source":"script.js","name":"title","original":{"line":66,"column":6},"generated":{"line":1,"column":677}},{"source":"script.js","name":"description","original":{"line":66,"column":13},"generated":{"line":1,"column":683}},{"source":"script.js","original":{"line":66,"column":28},"generated":{"line":1,"column":686}},{"source":"script.js","name":"img","original":{"line":70,"column":4},"generated":{"line":1,"column":724}},{"source":"script.js","name":"addEventListener","original":{"line":70,"column":8},"generated":{"line":1,"column":726}},{"source":"script.js","original":{"line":70,"column":25},"generated":{"line":1,"column":743}},{"source":"script.js","name":"imageLoaded","original":{"line":70,"column":33},"generated":{"line":1,"column":750}},{"source":"script.js","name":"item","original":{"line":73,"column":4},"generated":{"line":1,"column":753}},{"source":"script.js","name":"appendChild","original":{"line":73,"column":9},"generated":{"line":1,"column":755}},{"source":"script.js","name":"img","original":{"line":73,"column":21},"generated":{"line":1,"column":767}},{"source":"script.js","name":"imageContainer","original":{"line":74,"column":4},"generated":{"line":1,"column":770}},{"source":"script.js","name":"appendChild","original":{"line":74,"column":19},"generated":{"line":1,"column":772}},{"source":"script.js","name":"item","original":{"line":74,"column":31},"generated":{"line":1,"column":784}},{"source":"script.js","original":{"line":79,"column":0},"generated":{"line":1,"column":789}},{"source":"script.js","name":"getPhotos","original":{"line":79,"column":15},"generated":{"line":1,"column":804}},{"source":"script.js","name":"url","original":{"line":79,"column":25},"generated":{"line":1,"column":806}},{"source":"script.js","original":{"line":80,"column":6},"generated":{"line":1,"column":809}},{"source":"script.js","name":"response","original":{"line":81,"column":10},"generated":{"line":1,"column":813}},{"source":"script.js","name":"response","original":{"line":81,"column":10},"generated":{"line":1,"column":819}},{"source":"script.js","name":"fetch","original":{"line":81,"column":27},"generated":{"line":1,"column":827}},{"source":"script.js","name":"url","original":{"line":81,"column":33},"generated":{"line":1,"column":833}},{"source":"script.js","name":"displayPhotos","original":{"line":83,"column":4},"generated":{"line":1,"column":836}},{"source":"script.js","name":"photosArray","original":{"line":82,"column":4},"generated":{"line":1,"column":838}},{"source":"script.js","name":"response","original":{"line":82,"column":24},"generated":{"line":1,"column":846}},{"source":"script.js","name":"json","original":{"line":82,"column":33},"generated":{"line":1,"column":848}},{"source":"script.js","name":"isInitialLoad","original":{"line":85,"column":8},"generated":{"line":1,"column":856}},{"source":"script.js","name":"updateAPIURLWithNewCount","original":{"line":86,"column":6},"generated":{"line":1,"column":860}},{"source":"script.js","original":{"line":86,"column":31},"generated":{"line":1,"column":862}},{"source":"script.js","name":"isInitialLoad","original":{"line":87,"column":6},"generated":{"line":1,"column":866}},{"source":"script.js","original":{"line":87,"column":22},"generated":{"line":1,"column":869}},{"source":"script.js","original":{"line":89,"column":4},"generated":{"line":1,"column":872}},{"source":"script.js","name":"error","original":{"line":89,"column":11},"generated":{"line":1,"column":878}},{"source":"script.js","name":"console","original":{"line":90,"column":4},"generated":{"line":1,"column":881}},{"source":"script.js","name":"log","original":{"line":90,"column":12},"generated":{"line":1,"column":889}},{"source":"script.js","original":{"line":90,"column":16},"generated":{"line":1,"column":893}},{"source":"script.js","name":"error","original":{"line":90,"column":41},"generated":{"line":1,"column":917}},{"source":"script.js","name":"window","original":{"line":95,"column":0},"generated":{"line":1,"column":921}},{"source":"script.js","name":"addEventListener","original":{"line":95,"column":7},"generated":{"line":1,"column":928}},{"source":"script.js","original":{"line":95,"column":24},"generated":{"line":1,"column":945}},{"source":"script.js","original":{"line":95,"column":34},"generated":{"line":1,"column":954}},{"source":"script.js","name":"window","original":{"line":97,"column":4},"generated":{"line":1,"column":959}},{"source":"script.js","name":"innerHeight","original":{"line":97,"column":11},"generated":{"line":1,"column":966}},{"source":"script.js","name":"window","original":{"line":97,"column":25},"generated":{"line":1,"column":978}},{"source":"script.js","name":"scrollY","original":{"line":97,"column":32},"generated":{"line":1,"column":985}},{"source":"script.js","name":"document","original":{"line":97,"column":43},"generated":{"line":1,"column":994}},{"source":"script.js","name":"body","original":{"line":97,"column":52},"generated":{"line":1,"column":1003}},{"source":"script.js","name":"offsetHeight","original":{"line":97,"column":57},"generated":{"line":1,"column":1008}},{"source":"script.js","original":{"line":97,"column":72},"generated":{"line":1,"column":1021}},{"source":"script.js","name":"ready","original":{"line":98,"column":4},"generated":{"line":1,"column":1026}},{"source":"script.js","name":"ready","original":{"line":100,"column":4},"generated":{"line":1,"column":1030}},{"source":"script.js","original":{"line":100,"column":12},"generated":{"line":1,"column":1033}},{"source":"script.js","name":"getPhotos","original":{"line":101,"column":4},"generated":{"line":1,"column":1035}},{"source":"script.js","name":"apiURL","original":{"line":101,"column":14},"generated":{"line":1,"column":1037}},{"source":"script.js","name":"getPhotos","original":{"line":106,"column":0},"generated":{"line":1,"column":1043}},{"source":"script.js","name":"apiURL","original":{"line":106,"column":10},"generated":{"line":1,"column":1045}}],"sources":{"script.js":"/* eslint-disable guard-for-in */\nconst imageContainer = document.querySelector('#image-container');\nconst loader = document.querySelector('#loader');\n\nlet isInitialLoad = true;\nlet ready = false;\nlet imagesLoaded = 0;\nlet totalImages = 0;\nlet photosArray = [];\n\n// Unsplash API\nconst initCount = 5;\nconst apiKey = process.env.UNSPLASH_API_KEY;\nlet apiURL = `https://api.unsplash.com/photos/random/?client_id=${apiKey}&count=${initCount}`;\n\nfunction updateAPIURLWithNewCount(picCount) {\n  apiURL = `https://api.unsplash.com/photos/random/?client_id=${apiKey}&count=${picCount}`;\n}\n\n// Check if all images were loaded\nfunction imageLoaded() {\n  imagesLoaded += 1;\n  if (imagesLoaded === totalImages) {\n    ready = true;\n    loader.hidden = true;\n  }\n}\n\n// Helper Function to Set Attributes on DOM Elements\nfunction setAttributes(element, attributes) {\n  // eslint-disable-next-line no-restricted-syntax\n  for (const key in attributes) {\n    element.setAttribute(key, attributes[key]);\n  }\n}\n\n// Create Elements for Links & Photos, add to DOM\nfunction displayPhotos(arr) {\n  imagesLoaded = 0;\n  totalImages = arr.length;\n\n  arr.forEach((photo) => {\n    const {\n      links: { html },\n      urls: { regular },\n      description,\n    } = photo;\n\n    // Create <a> to link to Unsplash\n    const item = document.createElement('a');\n    // item.setAttribute('href', html);\n    // item.setAttribute('target', '_blank');\n    setAttributes(item, {\n      href: html,\n      target: '_blank',\n    });\n\n    // Create <img> for photo\n    const img = document.createElement('img');\n    // img.setAttribute('src', regular);\n    // img.setAttribute('alt', description);\n    // img.setAttribute('title', description);\n    setAttributes(img, {\n      src: regular,\n      alt: description || 'This pictures has no description!',\n      title: description || 'This pictures has no description!',\n    });\n\n    // Event Listener, check when each is finished loading\n    img.addEventListener('load', imageLoaded);\n\n    // Put <img> inside <a>, then put both inside imageContainer Element\n    item.appendChild(img);\n    imageContainer.appendChild(item);\n  });\n}\n\n// Get photos from Unsplash API\nasync function getPhotos(url) {\n  try {\n    const response = await fetch(url);\n    photosArray = await response.json();\n    displayPhotos(photosArray);\n\n    if (isInitialLoad) {\n      updateAPIURLWithNewCount(30);\n      isInitialLoad = false;\n    }\n  } catch (error) {\n    console.log('Error fething photos:', error);\n  }\n}\n\n// Check to see if scrolling near bottom of page, Load More Photos\nwindow.addEventListener('scroll', () => {\n  if (\n    window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000 &&\n    ready\n  ) {\n    ready = false;\n    getPhotos(apiURL);\n  }\n});\n\n// On Load\ngetPhotos(apiURL);\n"},"lineCount":null}},"error":null,"hash":"dd085454fc206112aeceb36b62d4cb6c","cacheData":{"env":{"UNSPLASH_API_KEY":"xTVogu9WC9IZvvei4pqFf2UgCGLaHTZrlI8m3k9uBZ8"}}}